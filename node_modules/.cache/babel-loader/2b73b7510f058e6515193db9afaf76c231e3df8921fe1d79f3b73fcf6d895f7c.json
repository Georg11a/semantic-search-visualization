{"ast":null,"code":"var _jsxFileName = \"/Users/baiyixin/Desktop/semantic-search-visualization-new/src/components/AcademicPaperSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport Papa from 'papaparse';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AcademicPaperSearch = () => {\n  _s();\n  const [papers, setPapers] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"information visualization\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedPaper, setSelectedPaper] = useState(null);\n  const [highlightedPapers, setHighlightedPapers] = useState([]);\n  const svgRef = useRef(null);\n\n  // Load and process the data\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      try {\n        // Add debugging statement\n        console.log(\"Starting to load data file...\");\n        const response = await fetch('/paste.txt');\n\n        // Add debugging statement\n        console.log(\"File response status:\", response.status, response.ok);\n        const papersText = await response.text();\n\n        // Add debugging statement\n        console.log(\"First 100 chars of file:\", papersText.substring(0, 100));\n        const parsedData = Papa.parse(papersText, {\n          delimiter: '\\t',\n          header: true,\n          skipEmptyLines: true,\n          dynamicTyping: true\n        });\n\n        // Add debugging statement\n        console.log(\"Parse result:\", parsedData);\n        console.log(\"Number of data rows:\", parsedData.data.length);\n        if (parsedData.data.length > 0) {\n          console.log(\"First row of data:\", parsedData.data[0]);\n        } else {\n          console.log(\"No data rows after parsing\");\n        }\n\n        // Process papers and create synthetic embeddings\n        const processedPapers = parsedData.data.filter(paper => paper.title && paper.abstract).map((paper, index) => {\n          // Generate synthetic embedding\n          const embedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n          const magnitude = Math.sqrt(embedding.reduce((sum, val) => sum + val * val, 0));\n          const normalizedEmbedding = embedding.map(val => val / magnitude);\n          return {\n            id: paper.doi || `paper-${index}`,\n            title: paper.title || 'Untitled Paper',\n            authors: paper.authors || 'Unknown Authors',\n            abstract: paper.abstract || 'No abstract available',\n            venue: paper.venue || 'Unknown Venue',\n            year: paper.year || 'Unknown Year',\n            type: paper.type || 'Unknown Type',\n            link: paper.link || '#',\n            embedding: normalizedEmbedding,\n            x: (Math.random() * 2 - 1) * 0.8,\n            y: (Math.random() * 2 - 1) * 0.8,\n            cluster: Math.floor(Math.random() * 5)\n          };\n        });\n\n        // Add debugging statement\n        console.log(\"Number of processed papers:\", processedPapers.length);\n        if (processedPapers.length > 0) {\n          console.log(\"First processed paper:\", processedPapers[0]);\n        }\n        setPapers(processedPapers);\n\n        // Perform initial search\n        const results = performSearch(processedPapers, searchQuery);\n\n        // Add debugging statement\n        console.log(\"Number of search results:\", results.length);\n        setSearchResults(results);\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n      }\n      setIsLoading(false);\n    };\n    loadData();\n  }, []);\n\n  // Function to calculate cosine similarity\n  const cosineSimilarity = (vecA, vecB) => {\n    if (!vecA || !vecB || vecA.length !== vecB.length) {\n      return 0;\n    }\n    let dotProduct = 0;\n    let normA = 0;\n    let normB = 0;\n    for (let i = 0; i < vecA.length; i++) {\n      dotProduct += vecA[i] * vecB[i];\n      normA += vecA[i] * vecA[i];\n      normB += vecB[i] * vecB[i];\n    }\n    if (normA === 0 || normB === 0) {\n      return 0;\n    }\n    return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB));\n  };\n\n  // Perform semantic search\n  const performSearch = (papersList, query) => {\n    // Add debugging statement\n    console.log(\"Performing search, query:\", query, \"number of documents:\", papersList.length);\n    if (!query.trim() || !papersList.length) {\n      return papersList;\n    }\n\n    // Create a simulated query embedding\n    const queryEmbedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n    const magnitude = Math.sqrt(queryEmbedding.reduce((sum, val) => sum + val * val, 0));\n    const normalizedQueryEmbedding = queryEmbedding.map(val => val / magnitude);\n    const queryTerms = query.toLowerCase().split(/\\s+/);\n    const results = papersList.map(paper => {\n      // Calculate embedding similarity\n      const similarity = cosineSimilarity(normalizedQueryEmbedding, paper.embedding);\n\n      // Boost papers that contain query terms in title/abstract\n      let relevanceBoost = 0;\n      const titleLower = paper.title.toLowerCase();\n      const abstractLower = paper.abstract.toLowerCase();\n      queryTerms.forEach(term => {\n        if (titleLower.includes(term)) relevanceBoost += 0.2;\n        if (abstractLower.includes(term)) relevanceBoost += 0.1;\n      });\n      const finalScore = Math.min(0.95, similarity * 0.6 + relevanceBoost);\n      return {\n        ...paper,\n        score: finalScore\n      };\n    }).sort((a, b) => b.score - a.score);\n\n    // Simulate UMAP by arranging papers in a spiral pattern based on score\n    const sortedPapers = [...results].sort((a, b) => b.score - a.score);\n    const scoredPapers = sortedPapers.map((paper, i) => {\n      const angle = i * 0.5;\n      const radius = 0.1 + (1 - paper.score) * 0.9;\n      return {\n        ...paper,\n        x: Math.cos(angle) * radius,\n        y: Math.sin(angle) * radius\n      };\n    });\n\n    // Add debugging statement\n    console.log(\"Search results sorted, count:\", scoredPapers.length);\n    if (scoredPapers.length > 0) {\n      console.log(\"Highest scoring document:\", scoredPapers[0].title, \"score:\", scoredPapers[0].score);\n    }\n    return scoredPapers;\n  };\n\n  // Handle search query changes\n  const handleSearchChange = e => {\n    setSearchQuery(e.target.value);\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    console.log(\"Executing new search:\", searchQuery);\n    const results = performSearch(papers, searchQuery);\n    setSearchResults(results);\n  };\n\n  // Handle paper selection\n  const handlePaperSelect = paper => {\n    setSelectedPaper(paper);\n  };\n\n  // Handle paper highlighting\n  const handlePaperHighlight = paper => {\n    if (paper) {\n      setHighlightedPapers([paper]);\n    } else {\n      setHighlightedPapers([]);\n    }\n  };\n\n  // Render the scatter plot\n  useEffect(() => {\n    // Add debugging statement\n    console.log(\"Rendering visualization, data points:\", searchResults.length);\n    console.log(\"SVG element exists:\", svgRef.current ? \"yes\" : \"no\");\n    if (!searchResults.length || !svgRef.current) return;\n    const svg = d3.select(svgRef.current);\n    const width = svgRef.current.clientWidth || 600;\n    const height = svgRef.current.clientHeight || 500;\n    const margin = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 20\n    };\n\n    // Add debugging statement\n    console.log(\"SVG container dimensions:\", {\n      width,\n      height\n    });\n\n    // Clear previous drawing\n    svg.selectAll(\"*\").remove();\n\n    // Define scales\n    const xExtent = d3.extent(searchResults, d => d.x);\n    const yExtent = d3.extent(searchResults, d => d.y);\n\n    // Add debugging statement\n    console.log(\"X extent:\", xExtent, \"Y extent:\", yExtent);\n    const xScale = d3.scaleLinear().domain(xExtent).range([margin.left, width - margin.right]);\n    const yScale = d3.scaleLinear().domain(yExtent).range([height - margin.bottom, margin.top]);\n\n    // Color scale for similarity scores\n    const colorScale = d3.scaleSequential().domain([0, 1]).interpolator(d3.interpolateBlues);\n\n    // Size scale for points\n    const sizeScale = d3.scaleLinear().domain([0, 1]).range([3, 10]);\n\n    // Add legend\n    const legendGroup = svg.append(\"g\").attr(\"transform\", `translate(${width - 100}, 20)`);\n    legendGroup.append(\"text\").attr(\"x\", 0).attr(\"y\", 0).text(\"Score\").style(\"font-weight\", \"bold\").style(\"font-size\", \"12px\");\n    const legendValues = [0.2, 0.4, 0.6, 0.8];\n    legendValues.forEach((value, i) => {\n      legendGroup.append(\"circle\").attr(\"cx\", 10).attr(\"cy\", i * 20 + 20).attr(\"r\", sizeScale(value)).attr(\"fill\", colorScale(value));\n      legendGroup.append(\"text\").attr(\"x\", 25).attr(\"y\", i * 20 + 24).text(`${Math.round(value * 100)}%`).style(\"font-size\", \"12px\");\n    });\n\n    // Add debugging statement\n    console.log(\"Legend added\");\n\n    // Draw points\n    try {\n      // Add debugging statement\n      console.log(\"Starting to draw data points...\");\n      const points = svg.selectAll(\"circle.datapoint\").data(searchResults).enter().append(\"circle\").attr(\"class\", \"datapoint\").attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y)).attr(\"r\", d => sizeScale(d.score)).attr(\"fill\", d => colorScale(d.score)).attr(\"opacity\", 0.8).attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 0.5).style(\"cursor\", \"pointer\");\n\n      // Add event handlers\n      points.on(\"mouseover\", (event, d) => {\n        d3.select(event.target).attr(\"stroke\", \"#333\").attr(\"stroke-width\", 1.5).attr(\"r\", d => sizeScale(d.score) * 1.5);\n        handlePaperHighlight(d);\n        handlePaperSelect(d);\n      }).on(\"mouseout\", event => {\n        d3.select(event.target).attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 0.5).attr(\"r\", d => sizeScale(d.score));\n        handlePaperHighlight(null);\n      }).on(\"click\", (event, d) => {\n        handlePaperSelect(d);\n      });\n\n      // Add debugging statement\n      console.log(\"Data points drawn\");\n    } catch (error) {\n      console.error(\"Error drawing data points:\", error);\n    }\n\n    // Add tooltip\n    try {\n      const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"position\", \"absolute\").style(\"visibility\", \"hidden\").style(\"background-color\", \"white\").style(\"border\", \"1px solid #ddd\").style(\"border-radius\", \"4px\").style(\"padding\", \"8px\").style(\"font-size\", \"12px\").style(\"pointer-events\", \"none\").style(\"z-index\", \"10\");\n      svg.selectAll(\"circle.datapoint\").on(\"mouseover\", (event, d) => {\n        tooltip.style(\"visibility\", \"visible\").html(`\n              <strong>${d.title}</strong><br>\n              ${d.authors}<br>\n              Score: ${(d.score * 100).toFixed(1)}%\n            `);\n      }).on(\"mousemove\", event => {\n        tooltip.style(\"top\", event.pageY - 10 + \"px\").style(\"left\", event.pageX + 10 + \"px\");\n      }).on(\"mouseout\", () => {\n        tooltip.style(\"visibility\", \"hidden\");\n      });\n\n      // Add title\n      svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", margin.top / 2).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"14px\").style(\"font-weight\", \"bold\").text(`${searchResults.length} documents by similarity`);\n\n      // Add debugging statement\n      console.log(\"Tooltip and title added\");\n      return () => {\n        // Clean up\n        tooltip.remove();\n      };\n    } catch (error) {\n      console.error(\"Error adding tooltip:\", error);\n    }\n  }, [searchResults]);\n\n  // Add debugging statement to check render function\n  console.log(\"Component rendering, data state:\", {\n    papersLength: papers.length,\n    resultsLength: searchResults.length,\n    isLoading,\n    hasSvgRef: !!svgRef.current\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-6xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Similarity Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchQuery,\n          onChange: handleSearchChange,\n          placeholder: \"Enter search query...\",\n          className: \"flex-grow p-2 border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-blue-600 text-white px-4 py-2 rounded\",\n          disabled: isLoading,\n          children: isLoading ? 'Loading...' : 'Search'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:w-2/3 border rounded shadow-sm bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          ref: svgRef,\n          width: \"100%\",\n          height: \"500\",\n          className: \"w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:w-1/3 border rounded shadow-sm bg-white p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Selected Paper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), selectedPaper ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium\",\n            children: selectedPaper.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700 mt-1\",\n            children: selectedPaper.authors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: [selectedPaper.venue, \", \", selectedPaper.year]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-sm bg-gray-50 p-2 rounded max-h-40 overflow-y-auto\",\n            children: selectedPaper.abstract\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Similarity Score:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), \" \", (selectedPaper.score * 100).toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), selectedPaper.link && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: selectedPaper.link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"text-sm text-blue-600 hover:underline mt-2 block\",\n            children: \"View Paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Hover over a point to see paper details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-3\",\n        children: \"Top Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: searchResults.slice(0, 6).map(paper => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded p-3 bg-white shadow-sm hover:shadow-md transition-shadow\",\n          onMouseEnter: () => handlePaperSelect(paper),\n          style: {\n            borderColor: selectedPaper && selectedPaper.id === paper.id ? '#3b82f6' : '#e5e7eb'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium\",\n            children: paper.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700\",\n            children: paper.authors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between text-sm text-gray-600 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: paper.venue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Score: \", (paper.score * 100).toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this)]\n        }, paper.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 390,\n    columnNumber: 5\n  }, this);\n};\n_s(AcademicPaperSearch, \"Q0/l12+8L1gt8GIPT/VbL3VjYE0=\");\n_c = AcademicPaperSearch;\nexport default AcademicPaperSearch;\nvar _c;\n$RefreshReg$(_c, \"AcademicPaperSearch\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Papa","d3","_","jsxDEV","_jsxDEV","AcademicPaperSearch","_s","papers","setPapers","searchQuery","setSearchQuery","searchResults","setSearchResults","isLoading","setIsLoading","selectedPaper","setSelectedPaper","highlightedPapers","setHighlightedPapers","svgRef","loadData","console","log","response","fetch","status","ok","papersText","text","substring","parsedData","parse","delimiter","header","skipEmptyLines","dynamicTyping","data","length","processedPapers","filter","paper","title","abstract","map","index","embedding","Array","fill","Math","random","magnitude","sqrt","reduce","sum","val","normalizedEmbedding","id","doi","authors","venue","year","type","link","x","y","cluster","floor","results","performSearch","error","cosineSimilarity","vecA","vecB","dotProduct","normA","normB","i","papersList","query","trim","queryEmbedding","normalizedQueryEmbedding","queryTerms","toLowerCase","split","similarity","relevanceBoost","titleLower","abstractLower","forEach","term","includes","finalScore","min","score","sort","a","b","sortedPapers","scoredPapers","angle","radius","cos","sin","handleSearchChange","e","target","value","handleSearch","preventDefault","handlePaperSelect","handlePaperHighlight","current","svg","select","width","clientWidth","height","clientHeight","margin","top","right","bottom","left","selectAll","remove","xExtent","extent","d","yExtent","xScale","scaleLinear","domain","range","yScale","colorScale","scaleSequential","interpolator","interpolateBlues","sizeScale","legendGroup","append","attr","style","legendValues","round","points","enter","on","event","tooltip","html","toFixed","pageY","pageX","papersLength","resultsLength","hasSvgRef","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","placeholder","disabled","ref","href","rel","slice","onMouseEnter","borderColor","_c","$RefreshReg$"],"sources":["/Users/baiyixin/Desktop/semantic-search-visualization-new/src/components/AcademicPaperSearch.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Papa from 'papaparse';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\n\nconst AcademicPaperSearch = () => {\n  const [papers, setPapers] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"information visualization\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedPaper, setSelectedPaper] = useState(null);\n  const [highlightedPapers, setHighlightedPapers] = useState([]);\n  \n  const svgRef = useRef(null);\n  \n  // Load and process the data\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      try {\n        // Add debugging statement\n        console.log(\"Starting to load data file...\");\n        \n        const response = await fetch('/paste.txt');\n        \n        // Add debugging statement\n        console.log(\"File response status:\", response.status, response.ok);\n        \n        const papersText = await response.text();\n        \n        // Add debugging statement\n        console.log(\"First 100 chars of file:\", papersText.substring(0, 100));\n        \n        const parsedData = Papa.parse(papersText, {\n          delimiter: '\\t',\n          header: true,\n          skipEmptyLines: true,\n          dynamicTyping: true\n        });\n        \n        // Add debugging statement\n        console.log(\"Parse result:\", parsedData);\n        console.log(\"Number of data rows:\", parsedData.data.length);\n        if (parsedData.data.length > 0) {\n          console.log(\"First row of data:\", parsedData.data[0]);\n        } else {\n          console.log(\"No data rows after parsing\");\n        }\n        \n        // Process papers and create synthetic embeddings\n        const processedPapers = parsedData.data\n          .filter(paper => paper.title && paper.abstract)\n          .map((paper, index) => {\n            // Generate synthetic embedding\n            const embedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n            const magnitude = Math.sqrt(embedding.reduce((sum, val) => sum + val * val, 0));\n            const normalizedEmbedding = embedding.map(val => val / magnitude);\n            \n            return {\n              id: paper.doi || `paper-${index}`,\n              title: paper.title || 'Untitled Paper',\n              authors: paper.authors || 'Unknown Authors',\n              abstract: paper.abstract || 'No abstract available',\n              venue: paper.venue || 'Unknown Venue',\n              year: paper.year || 'Unknown Year',\n              type: paper.type || 'Unknown Type',\n              link: paper.link || '#',\n              embedding: normalizedEmbedding,\n              x: (Math.random() * 2 - 1) * 0.8,\n              y: (Math.random() * 2 - 1) * 0.8,\n              cluster: Math.floor(Math.random() * 5),\n            };\n          });\n        \n        // Add debugging statement\n        console.log(\"Number of processed papers:\", processedPapers.length);\n        if (processedPapers.length > 0) {\n          console.log(\"First processed paper:\", processedPapers[0]);\n        }\n        \n        setPapers(processedPapers);\n        \n        // Perform initial search\n        const results = performSearch(processedPapers, searchQuery);\n        \n        // Add debugging statement\n        console.log(\"Number of search results:\", results.length);\n        \n        setSearchResults(results);\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n      }\n      setIsLoading(false);\n    };\n    \n    loadData();\n  }, []);\n  \n  // Function to calculate cosine similarity\n  const cosineSimilarity = (vecA, vecB) => {\n    if (!vecA || !vecB || vecA.length !== vecB.length) {\n      return 0;\n    }\n    \n    let dotProduct = 0;\n    let normA = 0;\n    let normB = 0;\n    \n    for (let i = 0; i < vecA.length; i++) {\n      dotProduct += vecA[i] * vecB[i];\n      normA += vecA[i] * vecA[i];\n      normB += vecB[i] * vecB[i];\n    }\n    \n    if (normA === 0 || normB === 0) {\n      return 0;\n    }\n    \n    return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB));\n  };\n  \n  // Perform semantic search\n  const performSearch = (papersList, query) => {\n    // Add debugging statement\n    console.log(\"Performing search, query:\", query, \"number of documents:\", papersList.length);\n    \n    if (!query.trim() || !papersList.length) {\n      return papersList;\n    }\n    \n    // Create a simulated query embedding\n    const queryEmbedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n    const magnitude = Math.sqrt(queryEmbedding.reduce((sum, val) => sum + val * val, 0));\n    const normalizedQueryEmbedding = queryEmbedding.map(val => val / magnitude);\n    \n    const queryTerms = query.toLowerCase().split(/\\s+/);\n    \n    const results = papersList.map(paper => {\n      // Calculate embedding similarity\n      const similarity = cosineSimilarity(normalizedQueryEmbedding, paper.embedding);\n      \n      // Boost papers that contain query terms in title/abstract\n      let relevanceBoost = 0;\n      const titleLower = paper.title.toLowerCase();\n      const abstractLower = paper.abstract.toLowerCase();\n      \n      queryTerms.forEach(term => {\n        if (titleLower.includes(term)) relevanceBoost += 0.2;\n        if (abstractLower.includes(term)) relevanceBoost += 0.1;\n      });\n      \n      const finalScore = Math.min(0.95, (similarity * 0.6) + relevanceBoost);\n      \n      return {\n        ...paper,\n        score: finalScore\n      };\n    }).sort((a, b) => b.score - a.score);\n    \n    // Simulate UMAP by arranging papers in a spiral pattern based on score\n    const sortedPapers = [...results].sort((a, b) => b.score - a.score);\n    \n    const scoredPapers = sortedPapers.map((paper, i) => {\n      const angle = i * 0.5;\n      const radius = 0.1 + (1 - paper.score) * 0.9;\n      \n      return {\n        ...paper,\n        x: Math.cos(angle) * radius,\n        y: Math.sin(angle) * radius\n      };\n    });\n    \n    // Add debugging statement\n    console.log(\"Search results sorted, count:\", scoredPapers.length);\n    if (scoredPapers.length > 0) {\n      console.log(\"Highest scoring document:\", scoredPapers[0].title, \"score:\", scoredPapers[0].score);\n    }\n    \n    return scoredPapers;\n  };\n  \n  // Handle search query changes\n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n  \n  const handleSearch = (e) => {\n    e.preventDefault();\n    console.log(\"Executing new search:\", searchQuery);\n    const results = performSearch(papers, searchQuery);\n    setSearchResults(results);\n  };\n  \n  // Handle paper selection\n  const handlePaperSelect = (paper) => {\n    setSelectedPaper(paper);\n  };\n  \n  // Handle paper highlighting\n  const handlePaperHighlight = (paper) => {\n    if (paper) {\n      setHighlightedPapers([paper]);\n    } else {\n      setHighlightedPapers([]);\n    }\n  };\n  \n  // Render the scatter plot\n  useEffect(() => {\n    // Add debugging statement\n    console.log(\"Rendering visualization, data points:\", searchResults.length);\n    console.log(\"SVG element exists:\", svgRef.current ? \"yes\" : \"no\");\n    \n    if (!searchResults.length || !svgRef.current) return;\n    \n    const svg = d3.select(svgRef.current);\n    const width = svgRef.current.clientWidth || 600;\n    const height = svgRef.current.clientHeight || 500;\n    const margin = { top: 20, right: 20, bottom: 20, left: 20 };\n    \n    // Add debugging statement\n    console.log(\"SVG container dimensions:\", { width, height });\n    \n    // Clear previous drawing\n    svg.selectAll(\"*\").remove();\n    \n    // Define scales\n    const xExtent = d3.extent(searchResults, d => d.x);\n    const yExtent = d3.extent(searchResults, d => d.y);\n    \n    // Add debugging statement\n    console.log(\"X extent:\", xExtent, \"Y extent:\", yExtent);\n    \n    const xScale = d3.scaleLinear()\n      .domain(xExtent)\n      .range([margin.left, width - margin.right]);\n    \n    const yScale = d3.scaleLinear()\n      .domain(yExtent)\n      .range([height - margin.bottom, margin.top]);\n    \n    // Color scale for similarity scores\n    const colorScale = d3.scaleSequential()\n      .domain([0, 1])\n      .interpolator(d3.interpolateBlues);\n    \n    // Size scale for points\n    const sizeScale = d3.scaleLinear()\n      .domain([0, 1])\n      .range([3, 10]);\n    \n    // Add legend\n    const legendGroup = svg.append(\"g\")\n      .attr(\"transform\", `translate(${width - 100}, 20)`);\n    \n    legendGroup.append(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .text(\"Score\")\n      .style(\"font-weight\", \"bold\")\n      .style(\"font-size\", \"12px\");\n    \n    const legendValues = [0.2, 0.4, 0.6, 0.8];\n    legendValues.forEach((value, i) => {\n      legendGroup.append(\"circle\")\n        .attr(\"cx\", 10)\n        .attr(\"cy\", i * 20 + 20)\n        .attr(\"r\", sizeScale(value))\n        .attr(\"fill\", colorScale(value));\n      \n      legendGroup.append(\"text\")\n        .attr(\"x\", 25)\n        .attr(\"y\", i * 20 + 24)\n        .text(`${Math.round(value * 100)}%`)\n        .style(\"font-size\", \"12px\");\n    });\n    \n    // Add debugging statement\n    console.log(\"Legend added\");\n    \n    // Draw points\n    try {\n      // Add debugging statement\n      console.log(\"Starting to draw data points...\");\n      \n      const points = svg.selectAll(\"circle.datapoint\")\n        .data(searchResults)\n        .enter()\n        .append(\"circle\")\n        .attr(\"class\", \"datapoint\")\n        .attr(\"cx\", d => xScale(d.x))\n        .attr(\"cy\", d => yScale(d.y))\n        .attr(\"r\", d => sizeScale(d.score))\n        .attr(\"fill\", d => colorScale(d.score))\n        .attr(\"opacity\", 0.8)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"stroke-width\", 0.5)\n        .style(\"cursor\", \"pointer\");\n        \n      // Add event handlers\n      points\n        .on(\"mouseover\", (event, d) => {\n          d3.select(event.target)\n            .attr(\"stroke\", \"#333\")\n            .attr(\"stroke-width\", 1.5)\n            .attr(\"r\", d => sizeScale(d.score) * 1.5);\n          handlePaperHighlight(d);\n          handlePaperSelect(d);\n        })\n        .on(\"mouseout\", (event) => {\n          d3.select(event.target)\n            .attr(\"stroke\", \"#fff\")\n            .attr(\"stroke-width\", 0.5)\n            .attr(\"r\", d => sizeScale(d.score));\n          handlePaperHighlight(null);\n        })\n        .on(\"click\", (event, d) => {\n          handlePaperSelect(d);\n        });\n      \n      // Add debugging statement\n      console.log(\"Data points drawn\");\n    } catch (error) {\n      console.error(\"Error drawing data points:\", error);\n    }\n    \n    // Add tooltip\n    try {\n      const tooltip = d3.select(\"body\").append(\"div\")\n        .attr(\"class\", \"tooltip\")\n        .style(\"position\", \"absolute\")\n        .style(\"visibility\", \"hidden\")\n        .style(\"background-color\", \"white\")\n        .style(\"border\", \"1px solid #ddd\")\n        .style(\"border-radius\", \"4px\")\n        .style(\"padding\", \"8px\")\n        .style(\"font-size\", \"12px\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"z-index\", \"10\");\n      \n      svg.selectAll(\"circle.datapoint\")\n        .on(\"mouseover\", (event, d) => {\n          tooltip.style(\"visibility\", \"visible\")\n            .html(`\n              <strong>${d.title}</strong><br>\n              ${d.authors}<br>\n              Score: ${(d.score * 100).toFixed(1)}%\n            `);\n        })\n        .on(\"mousemove\", (event) => {\n          tooltip\n            .style(\"top\", (event.pageY - 10) + \"px\")\n            .style(\"left\", (event.pageX + 10) + \"px\");\n        })\n        .on(\"mouseout\", () => {\n          tooltip.style(\"visibility\", \"hidden\");\n        });\n      \n      // Add title\n      svg.append(\"text\")\n        .attr(\"x\", width / 2)\n        .attr(\"y\", margin.top / 2)\n        .attr(\"text-anchor\", \"middle\")\n        .style(\"font-size\", \"14px\")\n        .style(\"font-weight\", \"bold\")\n        .text(`${searchResults.length} documents by similarity`);\n      \n      // Add debugging statement\n      console.log(\"Tooltip and title added\");\n      \n      return () => {\n        // Clean up\n        tooltip.remove();\n      };\n    } catch (error) {\n      console.error(\"Error adding tooltip:\", error);\n    }\n  }, [searchResults]);\n  \n  // Add debugging statement to check render function\n  console.log(\"Component rendering, data state:\", {\n    papersLength: papers.length,\n    resultsLength: searchResults.length,\n    isLoading,\n    hasSvgRef: !!svgRef.current\n  });\n  \n  return (\n    <div className=\"w-full max-w-6xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold mb-4\">Similarity Search</h1>\n        <form onSubmit={handleSearch} className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n            placeholder=\"Enter search query...\"\n            className=\"flex-grow p-2 border rounded\"\n          />\n          <button \n            type=\"submit\" \n            className=\"bg-blue-600 text-white px-4 py-2 rounded\"\n            disabled={isLoading}\n          >\n            {isLoading ? 'Loading...' : 'Search'}\n          </button>\n        </form>\n      </div>\n      \n      <div className=\"flex flex-col md:flex-row gap-6\">\n        <div className=\"md:w-2/3 border rounded shadow-sm bg-white\">\n          <svg \n            ref={svgRef} \n            width=\"100%\" \n            height=\"500\" \n            className=\"w-full\"\n          ></svg>\n        </div>\n        \n        <div className=\"md:w-1/3 border rounded shadow-sm bg-white p-4\">\n          <h2 className=\"text-lg font-semibold mb-3\">Selected Paper</h2>\n          {selectedPaper ? (\n            <div>\n              <h3 className=\"font-medium\">{selectedPaper.title}</h3>\n              <p className=\"text-sm text-gray-700 mt-1\">{selectedPaper.authors}</p>\n              <p className=\"text-sm text-gray-600 mt-1\">{selectedPaper.venue}, {selectedPaper.year}</p>\n              <div className=\"mt-2 text-sm bg-gray-50 p-2 rounded max-h-40 overflow-y-auto\">\n                {selectedPaper.abstract}\n              </div>\n              <div className=\"mt-2 text-sm\">\n                <strong>Similarity Score:</strong> {(selectedPaper.score * 100).toFixed(1)}%\n              </div>\n              {selectedPaper.link && (\n                <a \n                  href={selectedPaper.link} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"text-sm text-blue-600 hover:underline mt-2 block\"\n                >\n                  View Paper\n                </a>\n              )}\n            </div>\n          ) : (\n            <p className=\"text-gray-500\">Hover over a point to see paper details</p>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"mt-6\">\n        <h2 className=\"text-xl font-semibold mb-3\">Top Results</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {searchResults.slice(0, 6).map(paper => (\n            <div \n              key={paper.id} \n              className=\"border rounded p-3 bg-white shadow-sm hover:shadow-md transition-shadow\"\n              onMouseEnter={() => handlePaperSelect(paper)}\n              style={{\n                borderColor: selectedPaper && selectedPaper.id === paper.id ? '#3b82f6' : '#e5e7eb'\n              }}\n            >\n              <h3 className=\"font-medium\">{paper.title}</h3>\n              <p className=\"text-sm text-gray-700\">{paper.authors}</p>\n              <div className=\"flex justify-between text-sm text-gray-600 mt-1\">\n                <span>{paper.venue}</span>\n                <span>Score: {(paper.score * 100).toFixed(1)}%</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AcademicPaperSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}