{"ast":null,"code":"var _jsxFileName = \"/Users/baiyixin/Desktop/semantic-search-visualization-new/src/components/AcademicPaperSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport Papa from 'papaparse';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AcademicPaperSearch = () => {\n  _s();\n  // 手动输入20条AAAI会议论文数据\n  const manualPapers = [{\n    title: '\"Reverse Gerrymandering\": Manipulation in Multi-Group Decision Making',\n    authors: 'Omer Lev; Yoad Lewenberg',\n    abstract: 'District-based manipulation, or gerrymandering, is usually taken to refer to agents who are in fixed location, and an external division is imposed upon them. However, in many real-world settings, there is an external, fixed division – an organizational chart of a company, or markets for a particular product.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2019,\n    type: 'Game Theory and Economic Paradigms',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/4037',\n    doi: '10.1609/aaai.v33i01.33012069'\n  }, {\n    title: 'A Deep Reinforcement Learning Framework for Rebalancing Dockless Bike Sharing Systems',\n    authors: 'Ling Pan; Qingpeng Cai; Zhixuan Fang; Pingzhong Tang; Longbo Huang',\n    abstract: 'Bike sharing provides an environment-friendly way for traveling and is booming all over the world. Yet, due to the high similarity of user travel patterns, the bike imbalance problem constantly occurs, especially for dockless bike sharing systems.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2019,\n    type: 'Computational Sustainability',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/3940',\n    doi: '10.1609/aaai.v33i01.33011393'\n  }, {\n    title: 'A Fair Incentive Scheme for Community Health Workers',\n    authors: 'Avinandan Bose; Tracey Li; Arunesh Sinha; Tien Mai',\n    abstract: 'Community health workers (CHWs) play a crucial role in the last mile delivery of essential health services to underserved populations in low-income countries.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2023,\n    type: 'AI for Social Impact',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/26653',\n    doi: '10.1609/aaai.v37i12.26653'\n  }, {\n    title: 'A Machine Learning Approach to Identify Houses with High Lead Tap Water Concentrations',\n    authors: 'Seyedsaeed Hajiseyedjavadi; Michael Blackhurst; Hassan A Karimi',\n    abstract: 'Over a century separates initial lead service lateral installations from the federal regulation of lead in drinking water. Municipalities often do not have adequate information describing installations of lead plumbing.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2020,\n    type: 'Emerging Papers',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/7040',\n    doi: '10.1609/aaai.v34i08.7040'\n  }, {\n    title: 'A Novel Visual Interpretability for Deep Neural Networks by Optimizing Activation Maps with Perturbation',\n    authors: 'Qinglong Zhang; Lu Rao; Yubin Yang',\n    abstract: 'Interpretability has been regarded as an essential component for deploying deep neural networks, in which the saliency-based method is one of the most prevailing interpretable approaches.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2021,\n    type: 'Computer Vision',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/16450',\n    doi: '10.1609/aaai.v35i4.16450'\n  }, {\n    title: '3D-STMN: Dependency-Driven Superpoint-Text Matching Network for End-to-End 3D Referring Expression Segmentation',\n    authors: 'Changli Wu; Yiwei Ma; Qi Chen; Haowei Wang; Gen Luo; Jiayi Ji; Xiaoshuai Sun',\n    abstract: 'In 3D Referring Expression Segmentation (3D-RES), the earlier approach adopts a two-stage paradigm, extracting segmentation proposals and then matching them with referring expressions.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2024,\n    type: 'Computer Vision',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/28408',\n    doi: '10.1609/aaai.v38i6.28408'\n  }, {\n    title: 'A Bayesian Spatial Model to Correct Under-Reporting in Urban Crowdsourcing',\n    authors: 'Gabriel Agostini; Emma Pierson; Nikhil Garg',\n    abstract: 'Decision-makers often observe the occurrence of events through a reporting process. City governments rely on resident reports to find and resolve urban infrastructural problems.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2024,\n    type: 'AI for Social Impact',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/30190',\n    doi: '10.1609/aaai.v38i20.30190'\n  }, {\n    title: 'A Complete Criterion for Value of Information in Soluble Influence Diagrams',\n    authors: 'Chris van Merwijk; Ryan Carey; Tom Everitt',\n    abstract: 'Influence diagrams have recently been used to analyse the safety and fairness properties of AI systems. A key building block for this analysis is a graphical criterion for value of information (VoI).',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2022,\n    type: 'Reasoning under Uncertainty',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/21242',\n    doi: '10.1609/aaai.v36i9.21242'\n  }, {\n    title: 'A Data-Driven Approach for Gin Rummy Hand Evaluation',\n    authors: 'Sang T. Truong; Todd W. Neller',\n    abstract: 'We develop a data-driven approach for hand strength evaluation in the game of Gin Rummy. Employing Convolutional Neural Networks, Monte Carlo simulation, and Bayesian reasoning, we compute both offensive and defensive scores of a game state.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2021,\n    type: 'Game Theory',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/17843',\n    doi: '10.1609/aaai.v35i17.17843'\n  }, {\n    title: 'A Deep Model With Local Surrogate Loss for General Cost-Sensitive Multi-Label Learning',\n    authors: 'Cheng-Yu Hsieh; Yi-An Lin; Hsuan-Tien Lin',\n    abstract: 'Multi-label learning is an important machine learning problem with a wide range of applications. The variety of criteria for satisfying different application needs calls for cost-sensitive algorithms.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2018,\n    type: 'Machine Learning',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/11816',\n    doi: '10.1609/aaai.v32i1.11816'\n  }, {\n    title: 'A Lyapunov-Based Methodology for Constrained Optimization with Bandit Feedback',\n    authors: 'Semih Cayci; Yilin Zheng; Atilla Eryilmaz',\n    abstract: 'In various applications including online advertising, contractual hiring, and wireless scheduling, the controller is constrained by a stringent budget constraint on the available resources.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2022,\n    type: 'Constraint Satisfaction and Optimization',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/20285',\n    doi: '10.1609/aaai.v36i4.20285'\n  }, {\n    title: 'A Model for Estimating the Economic Costs of Computer Vision Systems That Use Deep Learning',\n    authors: 'Neil Thompson; Martin Fleming; Benny J. Tang; Anna M. Pastwa; Nicholas Borge; Brian C. Goehring; Subhro Das',\n    abstract: 'Deep learning, the most important subfield of machine learning and artificial intelligence (AI) over the last decade, is considered one of the fundamental technologies underpinning the Fourth Industrial Revolution.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2024,\n    type: 'Emerging Applications of AI',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/30343',\n    doi: '10.1609/aaai.v38i21.30343'\n  }, {\n    title: 'A New Ensemble Adversarial Attack Powered by Long-Term Gradient Memories',\n    authors: 'Zhaohui Che; Ali Borji; Guangtao Zhai; Suiyi Ling; Jing Li; Patrick Le Callet',\n    abstract: 'Deep neural networks are vulnerable to adversarial attacks. Some adversarial examples crafted against an ensemble of pre-trained source models can transfer to other new target models.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2020,\n    type: 'Machine Learning',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/5743',\n    doi: '10.1609/aaai.v34i04.5743'\n  }, {\n    title: 'A Case Study of the Shortcut Effects in Visual Commonsense Reasoning',\n    authors: 'Keren Ye; Adriana Kovashka',\n    abstract: 'Visual reasoning and question-answering have gathered attention in recent years. Many datasets and evaluation protocols have been proposed; some have been shown to contain bias that allows models to \"cheat\" without performing true, generalizable reasoning.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2021,\n    type: 'Computer Vision',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/16428',\n    doi: '10.1609/aaai.v35i4.16428'\n  }, {\n    title: 'A Dynamic Rationalization of Distance Rationalizability',\n    authors: 'Craig Boutilier; Ariel Procaccia',\n    abstract: 'Distance rationalizability is an intuitive paradigm for developing and studying voting rules: given a notion of consensus and a distance function on preference profiles, a rationalizable voting rule selects an alternative that is closest to being a consensus winner.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2021,\n    type: 'Multiagent Systems',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/8240',\n    doi: '10.1609/aaai.v26i1.8240'\n  }, {\n    title: 'A Distillation Approach to Data Efficient Individual Treatment Effect Estimation',\n    authors: 'Maggie Makar; Adith Swaminathan; Emre Kıcıman',\n    abstract: 'The potential for using machine learning algorithms as a tool for suggesting optimal interventions has fueled significant interest in developing methods for estimating heterogeneous or individual treatment effects (ITEs) from observational data.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2019,\n    type: 'Machine Learning',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/4375',\n    doi: '10.1609/aaai.v33i01.33014544'\n  }, {\n    title: 'A Machine Learning Method for EV Range Prediction with Updates on Route Information and Traffic Conditions',\n    authors: 'Dohee Kim; Hong Gi Shim; Jeong Soo Eo',\n    abstract: 'Drivers anxiety about the remaining driving range of electric vehicles (EVs) has been quite improved by mounting a high-capacity battery pack. However, when EVs need to be charged, the drivers still feel uncomfortable if inaccurate range prediction is provided.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2022,\n    type: 'Emerging Applications of AI',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/21525',\n    doi: '10.1609/aaai.v36i11.21525'\n  }, {\n    title: 'A Pair-Approximation Method for Modelling the Dynamics of Multi-Agent Stochastic Games',\n    authors: 'Chen Chu; Zheng Yuan; Shuyue Hu; Chunjiang Mu; Zhen Wang',\n    abstract: 'Developing a dynamical model for learning in games has attracted much recent interest. In stochastic games, agents need to make decisions in multiple states, and transitions between states, in turn, influence the dynamics of strategies.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2023,\n    type: 'Game Theory and Economic Paradigms',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/25691',\n    doi: '10.1609/aaai.v37i5.25691'\n  }, {\n    title: 'A Primal-Dual Online Algorithm for Online Matching Problem in Dynamic Environments',\n    authors: 'Yu-Hang Zhou; Peng Hu; Chen Liang; Huan Xu; Guangda Huzhang; Yinfu Feng; Qing Da; Xinshang Wang; An-Xiang Zeng',\n    abstract: 'Recently, the online matching problem has attracted much attention due to its wide application on real-world decision-making scenarios. In stationary environments, by adopting the stochastic user arrival model, existing methods are proposed to learn dual optimal prices.',\n    venue: 'AAAI Conference on Artificial Intelligence',\n    year: 2021,\n    type: 'Machine Learning',\n    link: 'https://ojs.aaai.org/index.php/AAAI/article/view/17331',\n    doi: '10.1609/aaai.v35i12.17331'\n  }];\n  const svgRef = useRef(null);\n\n  // Load and process the data\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      try {\n        // Add debugging statement\n        console.log(\"Starting to load data file...\");\n        const response = await fetch('/paste.txt');\n\n        // Add debugging statement\n        console.log(\"File response status:\", response.status, response.ok);\n        const papersText = await response.text();\n\n        // Add debugging statement\n        console.log(\"First 100 chars of file:\", papersText.substring(0, 100));\n        const parsedData = Papa.parse(papersText, {\n          delimiter: '\\t',\n          header: true,\n          skipEmptyLines: true,\n          dynamicTyping: true\n        });\n\n        // Add debugging statement\n        console.log(\"Parse result:\", parsedData);\n        console.log(\"Number of data rows:\", parsedData.data.length);\n        if (parsedData.data.length > 0) {\n          console.log(\"First row of data:\", parsedData.data[0]);\n        } else {\n          console.log(\"No data rows after parsing\");\n        }\n\n        // Process papers and create synthetic embeddings\n        const processedPapers = parsedData.data.filter(paper => paper.title && paper.abstract).map((paper, index) => {\n          // Generate synthetic embedding\n          const embedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n          const magnitude = Math.sqrt(embedding.reduce((sum, val) => sum + val * val, 0));\n          const normalizedEmbedding = embedding.map(val => val / magnitude);\n          return {\n            id: paper.doi || `paper-${index}`,\n            title: paper.title || 'Untitled Paper',\n            authors: paper.authors || 'Unknown Authors',\n            abstract: paper.abstract || 'No abstract available',\n            venue: paper.venue || 'Unknown Venue',\n            year: paper.year || 'Unknown Year',\n            type: paper.type || 'Unknown Type',\n            link: paper.link || '#',\n            embedding: normalizedEmbedding,\n            x: (Math.random() * 2 - 1) * 0.8,\n            y: (Math.random() * 2 - 1) * 0.8,\n            cluster: Math.floor(Math.random() * 5)\n          };\n        });\n\n        // Add debugging statement\n        console.log(\"Number of processed papers:\", processedPapers.length);\n        if (processedPapers.length > 0) {\n          console.log(\"First processed paper:\", processedPapers[0]);\n        }\n        setPapers(processedPapers);\n\n        // Perform initial search\n        const results = performSearch(processedPapers, searchQuery);\n\n        // Add debugging statement\n        console.log(\"Number of search results:\", results.length);\n        setSearchResults(results);\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n      }\n      setIsLoading(false);\n    };\n    loadData();\n  }, []);\n\n  // Function to calculate cosine similarity\n  const cosineSimilarity = (vecA, vecB) => {\n    if (!vecA || !vecB || vecA.length !== vecB.length) {\n      return 0;\n    }\n    let dotProduct = 0;\n    let normA = 0;\n    let normB = 0;\n    for (let i = 0; i < vecA.length; i++) {\n      dotProduct += vecA[i] * vecB[i];\n      normA += vecA[i] * vecA[i];\n      normB += vecB[i] * vecB[i];\n    }\n    if (normA === 0 || normB === 0) {\n      return 0;\n    }\n    return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB));\n  };\n\n  // Perform semantic search\n  const performSearch = (papersList, query) => {\n    // Add debugging statement\n    console.log(\"Performing search, query:\", query, \"number of documents:\", papersList.length);\n    if (!query.trim() || !papersList.length) {\n      return papersList;\n    }\n\n    // Create a simulated query embedding\n    const queryEmbedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n    const magnitude = Math.sqrt(queryEmbedding.reduce((sum, val) => sum + val * val, 0));\n    const normalizedQueryEmbedding = queryEmbedding.map(val => val / magnitude);\n    const queryTerms = query.toLowerCase().split(/\\s+/);\n    const results = papersList.map(paper => {\n      // Calculate embedding similarity\n      const similarity = cosineSimilarity(normalizedQueryEmbedding, paper.embedding);\n\n      // Boost papers that contain query terms in title/abstract\n      let relevanceBoost = 0;\n      const titleLower = paper.title.toLowerCase();\n      const abstractLower = paper.abstract.toLowerCase();\n      queryTerms.forEach(term => {\n        if (titleLower.includes(term)) relevanceBoost += 0.2;\n        if (abstractLower.includes(term)) relevanceBoost += 0.1;\n      });\n      const finalScore = Math.min(0.95, similarity * 0.6 + relevanceBoost);\n      return {\n        ...paper,\n        score: finalScore\n      };\n    }).sort((a, b) => b.score - a.score);\n\n    // Simulate UMAP by arranging papers in a spiral pattern based on score\n    const sortedPapers = [...results].sort((a, b) => b.score - a.score);\n    const scoredPapers = sortedPapers.map((paper, i) => {\n      const angle = i * 0.5;\n      const radius = 0.1 + (1 - paper.score) * 0.9;\n      return {\n        ...paper,\n        x: Math.cos(angle) * radius,\n        y: Math.sin(angle) * radius\n      };\n    });\n\n    // Add debugging statement\n    console.log(\"Search results sorted, count:\", scoredPapers.length);\n    if (scoredPapers.length > 0) {\n      console.log(\"Highest scoring document:\", scoredPapers[0].title, \"score:\", scoredPapers[0].score);\n    }\n    return scoredPapers;\n  };\n\n  // Handle search query changes\n  const handleSearchChange = e => {\n    setSearchQuery(e.target.value);\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    console.log(\"Executing new search:\", searchQuery);\n    const results = performSearch(papers, searchQuery);\n    setSearchResults(results);\n  };\n\n  // Handle paper selection\n  const handlePaperSelect = paper => {\n    setSelectedPaper(paper);\n  };\n\n  // Handle paper highlighting\n  const handlePaperHighlight = paper => {\n    if (paper) {\n      setHighlightedPapers([paper]);\n    } else {\n      setHighlightedPapers([]);\n    }\n  };\n\n  // Render the scatter plot\n  useEffect(() => {\n    // Add debugging statement\n    console.log(\"Rendering visualization, data points:\", searchResults.length);\n    console.log(\"SVG element exists:\", svgRef.current ? \"yes\" : \"no\");\n    if (!searchResults.length || !svgRef.current) return;\n    const svg = d3.select(svgRef.current);\n    const width = svgRef.current.clientWidth || 600;\n    const height = svgRef.current.clientHeight || 500;\n    const margin = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 20\n    };\n\n    // Add debugging statement\n    console.log(\"SVG container dimensions:\", {\n      width,\n      height\n    });\n\n    // Clear previous drawing\n    svg.selectAll(\"*\").remove();\n\n    // Define scales\n    const xExtent = d3.extent(searchResults, d => d.x);\n    const yExtent = d3.extent(searchResults, d => d.y);\n\n    // Add debugging statement\n    console.log(\"X extent:\", xExtent, \"Y extent:\", yExtent);\n    const xScale = d3.scaleLinear().domain(xExtent).range([margin.left, width - margin.right]);\n    const yScale = d3.scaleLinear().domain(yExtent).range([height - margin.bottom, margin.top]);\n\n    // Color scale for similarity scores\n    const colorScale = d3.scaleSequential().domain([0, 1]).interpolator(d3.interpolateBlues);\n\n    // Size scale for points\n    const sizeScale = d3.scaleLinear().domain([0, 1]).range([3, 10]);\n\n    // Add legend\n    const legendGroup = svg.append(\"g\").attr(\"transform\", `translate(${width - 100}, 20)`);\n    legendGroup.append(\"text\").attr(\"x\", 0).attr(\"y\", 0).text(\"Score\").style(\"font-weight\", \"bold\").style(\"font-size\", \"12px\");\n    const legendValues = [0.2, 0.4, 0.6, 0.8];\n    legendValues.forEach((value, i) => {\n      legendGroup.append(\"circle\").attr(\"cx\", 10).attr(\"cy\", i * 20 + 20).attr(\"r\", sizeScale(value)).attr(\"fill\", colorScale(value));\n      legendGroup.append(\"text\").attr(\"x\", 25).attr(\"y\", i * 20 + 24).text(`${Math.round(value * 100)}%`).style(\"font-size\", \"12px\");\n    });\n\n    // Add debugging statement\n    console.log(\"Legend added\");\n\n    // Draw points\n    try {\n      // Add debugging statement\n      console.log(\"Starting to draw data points...\");\n      const points = svg.selectAll(\"circle.datapoint\").data(searchResults).enter().append(\"circle\").attr(\"class\", \"datapoint\").attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y)).attr(\"r\", d => sizeScale(d.score)).attr(\"fill\", d => colorScale(d.score)).attr(\"opacity\", 0.8).attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 0.5).style(\"cursor\", \"pointer\");\n\n      // Add event handlers\n      points.on(\"mouseover\", (event, d) => {\n        d3.select(event.target).attr(\"stroke\", \"#333\").attr(\"stroke-width\", 1.5).attr(\"r\", d => sizeScale(d.score) * 1.5);\n        handlePaperHighlight(d);\n        handlePaperSelect(d);\n      }).on(\"mouseout\", event => {\n        d3.select(event.target).attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 0.5).attr(\"r\", d => sizeScale(d.score));\n        handlePaperHighlight(null);\n      }).on(\"click\", (event, d) => {\n        handlePaperSelect(d);\n      });\n\n      // Add debugging statement\n      console.log(\"Data points drawn\");\n    } catch (error) {\n      console.error(\"Error drawing data points:\", error);\n    }\n\n    // Add tooltip\n    try {\n      const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"position\", \"absolute\").style(\"visibility\", \"hidden\").style(\"background-color\", \"white\").style(\"border\", \"1px solid #ddd\").style(\"border-radius\", \"4px\").style(\"padding\", \"8px\").style(\"font-size\", \"12px\").style(\"pointer-events\", \"none\").style(\"z-index\", \"10\");\n      svg.selectAll(\"circle.datapoint\").on(\"mouseover\", (event, d) => {\n        tooltip.style(\"visibility\", \"visible\").html(`\n              <strong>${d.title}</strong><br>\n              ${d.authors}<br>\n              Score: ${(d.score * 100).toFixed(1)}%\n            `);\n      }).on(\"mousemove\", event => {\n        tooltip.style(\"top\", event.pageY - 10 + \"px\").style(\"left\", event.pageX + 10 + \"px\");\n      }).on(\"mouseout\", () => {\n        tooltip.style(\"visibility\", \"hidden\");\n      });\n\n      // Add title\n      svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", margin.top / 2).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"14px\").style(\"font-weight\", \"bold\").text(`${searchResults.length} documents by similarity`);\n\n      // Add debugging statement\n      console.log(\"Tooltip and title added\");\n      return () => {\n        // Clean up\n        tooltip.remove();\n      };\n    } catch (error) {\n      console.error(\"Error adding tooltip:\", error);\n    }\n  }, [searchResults]);\n\n  // Add debugging statement to check render function\n  console.log(\"Component rendering, data state:\", {\n    papersLength: papers.length,\n    resultsLength: searchResults.length,\n    isLoading,\n    hasSvgRef: !!svgRef.current\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-6xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Similarity Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchQuery,\n          onChange: handleSearchChange,\n          placeholder: \"Enter search query...\",\n          className: \"flex-grow p-2 border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-blue-600 text-white px-4 py-2 rounded\",\n          disabled: isLoading,\n          children: isLoading ? 'Loading...' : 'Search'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:w-2/3 border rounded shadow-sm bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          ref: svgRef,\n          width: \"100%\",\n          height: \"500\",\n          className: \"w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:w-1/3 border rounded shadow-sm bg-white p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Selected Paper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this), selectedPaper ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium\",\n            children: selectedPaper.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700 mt-1\",\n            children: selectedPaper.authors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: [selectedPaper.venue, \", \", selectedPaper.year]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-sm bg-gray-50 p-2 rounded max-h-40 overflow-y-auto\",\n            children: selectedPaper.abstract\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Similarity Score:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this), \" \", (selectedPaper.score * 100).toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this), selectedPaper.link && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: selectedPaper.link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"text-sm text-blue-600 hover:underline mt-2 block\",\n            children: \"View Paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Hover over a point to see paper details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-3\",\n        children: \"Top Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: searchResults.slice(0, 6).map(paper => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded p-3 bg-white shadow-sm hover:shadow-md transition-shadow\",\n          onMouseEnter: () => handlePaperSelect(paper),\n          style: {\n            borderColor: selectedPaper && selectedPaper.id === paper.id ? '#3b82f6' : '#e5e7eb'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium\",\n            children: paper.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700\",\n            children: paper.authors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between text-sm text-gray-600 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: paper.venue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Score: \", (paper.score * 100).toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 15\n          }, this)]\n        }, paper.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 577,\n    columnNumber: 5\n  }, this);\n};\n_s(AcademicPaperSearch, \"xZvsc6Dl8WHAXhRrVyhrxei3QC0=\");\n_c = AcademicPaperSearch;\nexport default AcademicPaperSearch;\nvar _c;\n$RefreshReg$(_c, \"AcademicPaperSearch\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Papa","d3","_","jsxDEV","_jsxDEV","AcademicPaperSearch","_s","manualPapers","title","authors","abstract","venue","year","type","link","doi","svgRef","loadData","setIsLoading","console","log","response","fetch","status","ok","papersText","text","substring","parsedData","parse","delimiter","header","skipEmptyLines","dynamicTyping","data","length","processedPapers","filter","paper","map","index","embedding","Array","fill","Math","random","magnitude","sqrt","reduce","sum","val","normalizedEmbedding","id","x","y","cluster","floor","setPapers","results","performSearch","searchQuery","setSearchResults","error","cosineSimilarity","vecA","vecB","dotProduct","normA","normB","i","papersList","query","trim","queryEmbedding","normalizedQueryEmbedding","queryTerms","toLowerCase","split","similarity","relevanceBoost","titleLower","abstractLower","forEach","term","includes","finalScore","min","score","sort","a","b","sortedPapers","scoredPapers","angle","radius","cos","sin","handleSearchChange","e","setSearchQuery","target","value","handleSearch","preventDefault","papers","handlePaperSelect","setSelectedPaper","handlePaperHighlight","setHighlightedPapers","searchResults","current","svg","select","width","clientWidth","height","clientHeight","margin","top","right","bottom","left","selectAll","remove","xExtent","extent","d","yExtent","xScale","scaleLinear","domain","range","yScale","colorScale","scaleSequential","interpolator","interpolateBlues","sizeScale","legendGroup","append","attr","style","legendValues","round","points","enter","on","event","tooltip","html","toFixed","pageY","pageX","papersLength","resultsLength","isLoading","hasSvgRef","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","placeholder","disabled","ref","selectedPaper","href","rel","slice","onMouseEnter","borderColor","_c","$RefreshReg$"],"sources":["/Users/baiyixin/Desktop/semantic-search-visualization-new/src/components/AcademicPaperSearch.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Papa from 'papaparse';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\n\nconst AcademicPaperSearch = () => {\n  // 手动输入20条AAAI会议论文数据\n  const manualPapers = [\n    {\n      title: '\"Reverse Gerrymandering\": Manipulation in Multi-Group Decision Making',\n      authors: 'Omer Lev; Yoad Lewenberg',\n      abstract: 'District-based manipulation, or gerrymandering, is usually taken to refer to agents who are in fixed location, and an external division is imposed upon them. However, in many real-world settings, there is an external, fixed division – an organizational chart of a company, or markets for a particular product.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2019,\n      type: 'Game Theory and Economic Paradigms',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/4037',\n      doi: '10.1609/aaai.v33i01.33012069'\n    },\n    {\n      title: 'A Deep Reinforcement Learning Framework for Rebalancing Dockless Bike Sharing Systems',\n      authors: 'Ling Pan; Qingpeng Cai; Zhixuan Fang; Pingzhong Tang; Longbo Huang',\n      abstract: 'Bike sharing provides an environment-friendly way for traveling and is booming all over the world. Yet, due to the high similarity of user travel patterns, the bike imbalance problem constantly occurs, especially for dockless bike sharing systems.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2019,\n      type: 'Computational Sustainability',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/3940',\n      doi: '10.1609/aaai.v33i01.33011393'\n    },\n    {\n      title: 'A Fair Incentive Scheme for Community Health Workers',\n      authors: 'Avinandan Bose; Tracey Li; Arunesh Sinha; Tien Mai',\n      abstract: 'Community health workers (CHWs) play a crucial role in the last mile delivery of essential health services to underserved populations in low-income countries.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2023,\n      type: 'AI for Social Impact',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/26653',\n      doi: '10.1609/aaai.v37i12.26653'\n    },\n    {\n      title: 'A Machine Learning Approach to Identify Houses with High Lead Tap Water Concentrations',\n      authors: 'Seyedsaeed Hajiseyedjavadi; Michael Blackhurst; Hassan A Karimi',\n      abstract: 'Over a century separates initial lead service lateral installations from the federal regulation of lead in drinking water. Municipalities often do not have adequate information describing installations of lead plumbing.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2020,\n      type: 'Emerging Papers',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/7040',\n      doi: '10.1609/aaai.v34i08.7040'\n    },\n    {\n      title: 'A Novel Visual Interpretability for Deep Neural Networks by Optimizing Activation Maps with Perturbation',\n      authors: 'Qinglong Zhang; Lu Rao; Yubin Yang',\n      abstract: 'Interpretability has been regarded as an essential component for deploying deep neural networks, in which the saliency-based method is one of the most prevailing interpretable approaches.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2021,\n      type: 'Computer Vision',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/16450',\n      doi: '10.1609/aaai.v35i4.16450'\n    },\n    {\n      title: '3D-STMN: Dependency-Driven Superpoint-Text Matching Network for End-to-End 3D Referring Expression Segmentation',\n      authors: 'Changli Wu; Yiwei Ma; Qi Chen; Haowei Wang; Gen Luo; Jiayi Ji; Xiaoshuai Sun',\n      abstract: 'In 3D Referring Expression Segmentation (3D-RES), the earlier approach adopts a two-stage paradigm, extracting segmentation proposals and then matching them with referring expressions.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2024,\n      type: 'Computer Vision',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/28408',\n      doi: '10.1609/aaai.v38i6.28408'\n    },\n    {\n      title: 'A Bayesian Spatial Model to Correct Under-Reporting in Urban Crowdsourcing',\n      authors: 'Gabriel Agostini; Emma Pierson; Nikhil Garg',\n      abstract: 'Decision-makers often observe the occurrence of events through a reporting process. City governments rely on resident reports to find and resolve urban infrastructural problems.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2024,\n      type: 'AI for Social Impact',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/30190',\n      doi: '10.1609/aaai.v38i20.30190'\n    },\n    {\n      title: 'A Complete Criterion for Value of Information in Soluble Influence Diagrams',\n      authors: 'Chris van Merwijk; Ryan Carey; Tom Everitt',\n      abstract: 'Influence diagrams have recently been used to analyse the safety and fairness properties of AI systems. A key building block for this analysis is a graphical criterion for value of information (VoI).',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2022,\n      type: 'Reasoning under Uncertainty',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/21242',\n      doi: '10.1609/aaai.v36i9.21242'\n    },\n    {\n      title: 'A Data-Driven Approach for Gin Rummy Hand Evaluation',\n      authors: 'Sang T. Truong; Todd W. Neller',\n      abstract: 'We develop a data-driven approach for hand strength evaluation in the game of Gin Rummy. Employing Convolutional Neural Networks, Monte Carlo simulation, and Bayesian reasoning, we compute both offensive and defensive scores of a game state.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2021,\n      type: 'Game Theory',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/17843',\n      doi: '10.1609/aaai.v35i17.17843'\n    },\n    {\n      title: 'A Deep Model With Local Surrogate Loss for General Cost-Sensitive Multi-Label Learning',\n      authors: 'Cheng-Yu Hsieh; Yi-An Lin; Hsuan-Tien Lin',\n      abstract: 'Multi-label learning is an important machine learning problem with a wide range of applications. The variety of criteria for satisfying different application needs calls for cost-sensitive algorithms.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2018,\n      type: 'Machine Learning',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/11816',\n      doi: '10.1609/aaai.v32i1.11816'\n    },\n    {\n      title: 'A Lyapunov-Based Methodology for Constrained Optimization with Bandit Feedback',\n      authors: 'Semih Cayci; Yilin Zheng; Atilla Eryilmaz',\n      abstract: 'In various applications including online advertising, contractual hiring, and wireless scheduling, the controller is constrained by a stringent budget constraint on the available resources.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2022,\n      type: 'Constraint Satisfaction and Optimization',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/20285',\n      doi: '10.1609/aaai.v36i4.20285'\n    },\n    {\n      title: 'A Model for Estimating the Economic Costs of Computer Vision Systems That Use Deep Learning',\n      authors: 'Neil Thompson; Martin Fleming; Benny J. Tang; Anna M. Pastwa; Nicholas Borge; Brian C. Goehring; Subhro Das',\n      abstract: 'Deep learning, the most important subfield of machine learning and artificial intelligence (AI) over the last decade, is considered one of the fundamental technologies underpinning the Fourth Industrial Revolution.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2024,\n      type: 'Emerging Applications of AI',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/30343',\n      doi: '10.1609/aaai.v38i21.30343'\n    },\n    {\n      title: 'A New Ensemble Adversarial Attack Powered by Long-Term Gradient Memories',\n      authors: 'Zhaohui Che; Ali Borji; Guangtao Zhai; Suiyi Ling; Jing Li; Patrick Le Callet',\n      abstract: 'Deep neural networks are vulnerable to adversarial attacks. Some adversarial examples crafted against an ensemble of pre-trained source models can transfer to other new target models.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2020,\n      type: 'Machine Learning',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/5743',\n      doi: '10.1609/aaai.v34i04.5743'\n    },\n    {\n      title: 'A Case Study of the Shortcut Effects in Visual Commonsense Reasoning',\n      authors: 'Keren Ye; Adriana Kovashka',\n      abstract: 'Visual reasoning and question-answering have gathered attention in recent years. Many datasets and evaluation protocols have been proposed; some have been shown to contain bias that allows models to \"cheat\" without performing true, generalizable reasoning.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2021,\n      type: 'Computer Vision',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/16428',\n      doi: '10.1609/aaai.v35i4.16428'\n    },\n    {\n      title: 'A Dynamic Rationalization of Distance Rationalizability',\n      authors: 'Craig Boutilier; Ariel Procaccia',\n      abstract: 'Distance rationalizability is an intuitive paradigm for developing and studying voting rules: given a notion of consensus and a distance function on preference profiles, a rationalizable voting rule selects an alternative that is closest to being a consensus winner.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2021,\n      type: 'Multiagent Systems',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/8240',\n      doi: '10.1609/aaai.v26i1.8240'\n    },\n    {\n      title: 'A Distillation Approach to Data Efficient Individual Treatment Effect Estimation',\n      authors: 'Maggie Makar; Adith Swaminathan; Emre Kıcıman',\n      abstract: 'The potential for using machine learning algorithms as a tool for suggesting optimal interventions has fueled significant interest in developing methods for estimating heterogeneous or individual treatment effects (ITEs) from observational data.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2019,\n      type: 'Machine Learning',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/4375',\n      doi: '10.1609/aaai.v33i01.33014544'\n    },\n    {\n      title: 'A Machine Learning Method for EV Range Prediction with Updates on Route Information and Traffic Conditions',\n      authors: 'Dohee Kim; Hong Gi Shim; Jeong Soo Eo',\n      abstract: 'Drivers anxiety about the remaining driving range of electric vehicles (EVs) has been quite improved by mounting a high-capacity battery pack. However, when EVs need to be charged, the drivers still feel uncomfortable if inaccurate range prediction is provided.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2022,\n      type: 'Emerging Applications of AI',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/21525',\n      doi: '10.1609/aaai.v36i11.21525'\n    },\n    {\n      title: 'A Pair-Approximation Method for Modelling the Dynamics of Multi-Agent Stochastic Games',\n      authors: 'Chen Chu; Zheng Yuan; Shuyue Hu; Chunjiang Mu; Zhen Wang',\n      abstract: 'Developing a dynamical model for learning in games has attracted much recent interest. In stochastic games, agents need to make decisions in multiple states, and transitions between states, in turn, influence the dynamics of strategies.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2023,\n      type: 'Game Theory and Economic Paradigms',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/25691',\n      doi: '10.1609/aaai.v37i5.25691'\n    },\n    {\n      title: 'A Primal-Dual Online Algorithm for Online Matching Problem in Dynamic Environments',\n      authors: 'Yu-Hang Zhou; Peng Hu; Chen Liang; Huan Xu; Guangda Huzhang; Yinfu Feng; Qing Da; Xinshang Wang; An-Xiang Zeng',\n      abstract: 'Recently, the online matching problem has attracted much attention due to its wide application on real-world decision-making scenarios. In stationary environments, by adopting the stochastic user arrival model, existing methods are proposed to learn dual optimal prices.',\n      venue: 'AAAI Conference on Artificial Intelligence',\n      year: 2021,\n      type: 'Machine Learning',\n      link: 'https://ojs.aaai.org/index.php/AAAI/article/view/17331',\n      doi: '10.1609/aaai.v35i12.17331'\n    }\n  ];\n  \n  const svgRef = useRef(null);\n  \n  // Load and process the data\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      try {\n        // Add debugging statement\n        console.log(\"Starting to load data file...\");\n        \n        const response = await fetch('/paste.txt');\n        \n        // Add debugging statement\n        console.log(\"File response status:\", response.status, response.ok);\n        \n        const papersText = await response.text();\n        \n        // Add debugging statement\n        console.log(\"First 100 chars of file:\", papersText.substring(0, 100));\n        \n        const parsedData = Papa.parse(papersText, {\n          delimiter: '\\t',\n          header: true,\n          skipEmptyLines: true,\n          dynamicTyping: true\n        });\n        \n        // Add debugging statement\n        console.log(\"Parse result:\", parsedData);\n        console.log(\"Number of data rows:\", parsedData.data.length);\n        if (parsedData.data.length > 0) {\n          console.log(\"First row of data:\", parsedData.data[0]);\n        } else {\n          console.log(\"No data rows after parsing\");\n        }\n        \n        // Process papers and create synthetic embeddings\n        const processedPapers = parsedData.data\n          .filter(paper => paper.title && paper.abstract)\n          .map((paper, index) => {\n            // Generate synthetic embedding\n            const embedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n            const magnitude = Math.sqrt(embedding.reduce((sum, val) => sum + val * val, 0));\n            const normalizedEmbedding = embedding.map(val => val / magnitude);\n            \n            return {\n              id: paper.doi || `paper-${index}`,\n              title: paper.title || 'Untitled Paper',\n              authors: paper.authors || 'Unknown Authors',\n              abstract: paper.abstract || 'No abstract available',\n              venue: paper.venue || 'Unknown Venue',\n              year: paper.year || 'Unknown Year',\n              type: paper.type || 'Unknown Type',\n              link: paper.link || '#',\n              embedding: normalizedEmbedding,\n              x: (Math.random() * 2 - 1) * 0.8,\n              y: (Math.random() * 2 - 1) * 0.8,\n              cluster: Math.floor(Math.random() * 5),\n            };\n          });\n        \n        // Add debugging statement\n        console.log(\"Number of processed papers:\", processedPapers.length);\n        if (processedPapers.length > 0) {\n          console.log(\"First processed paper:\", processedPapers[0]);\n        }\n        \n        setPapers(processedPapers);\n        \n        // Perform initial search\n        const results = performSearch(processedPapers, searchQuery);\n        \n        // Add debugging statement\n        console.log(\"Number of search results:\", results.length);\n        \n        setSearchResults(results);\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n      }\n      setIsLoading(false);\n    };\n    \n    loadData();\n  }, []);\n  \n  // Function to calculate cosine similarity\n  const cosineSimilarity = (vecA, vecB) => {\n    if (!vecA || !vecB || vecA.length !== vecB.length) {\n      return 0;\n    }\n    \n    let dotProduct = 0;\n    let normA = 0;\n    let normB = 0;\n    \n    for (let i = 0; i < vecA.length; i++) {\n      dotProduct += vecA[i] * vecB[i];\n      normA += vecA[i] * vecA[i];\n      normB += vecB[i] * vecB[i];\n    }\n    \n    if (normA === 0 || normB === 0) {\n      return 0;\n    }\n    \n    return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB));\n  };\n  \n  // Perform semantic search\n  const performSearch = (papersList, query) => {\n    // Add debugging statement\n    console.log(\"Performing search, query:\", query, \"number of documents:\", papersList.length);\n    \n    if (!query.trim() || !papersList.length) {\n      return papersList;\n    }\n    \n    // Create a simulated query embedding\n    const queryEmbedding = Array(384).fill(0).map(() => Math.random() - 0.5);\n    const magnitude = Math.sqrt(queryEmbedding.reduce((sum, val) => sum + val * val, 0));\n    const normalizedQueryEmbedding = queryEmbedding.map(val => val / magnitude);\n    \n    const queryTerms = query.toLowerCase().split(/\\s+/);\n    \n    const results = papersList.map(paper => {\n      // Calculate embedding similarity\n      const similarity = cosineSimilarity(normalizedQueryEmbedding, paper.embedding);\n      \n      // Boost papers that contain query terms in title/abstract\n      let relevanceBoost = 0;\n      const titleLower = paper.title.toLowerCase();\n      const abstractLower = paper.abstract.toLowerCase();\n      \n      queryTerms.forEach(term => {\n        if (titleLower.includes(term)) relevanceBoost += 0.2;\n        if (abstractLower.includes(term)) relevanceBoost += 0.1;\n      });\n      \n      const finalScore = Math.min(0.95, (similarity * 0.6) + relevanceBoost);\n      \n      return {\n        ...paper,\n        score: finalScore\n      };\n    }).sort((a, b) => b.score - a.score);\n    \n    // Simulate UMAP by arranging papers in a spiral pattern based on score\n    const sortedPapers = [...results].sort((a, b) => b.score - a.score);\n    \n    const scoredPapers = sortedPapers.map((paper, i) => {\n      const angle = i * 0.5;\n      const radius = 0.1 + (1 - paper.score) * 0.9;\n      \n      return {\n        ...paper,\n        x: Math.cos(angle) * radius,\n        y: Math.sin(angle) * radius\n      };\n    });\n    \n    // Add debugging statement\n    console.log(\"Search results sorted, count:\", scoredPapers.length);\n    if (scoredPapers.length > 0) {\n      console.log(\"Highest scoring document:\", scoredPapers[0].title, \"score:\", scoredPapers[0].score);\n    }\n    \n    return scoredPapers;\n  };\n  \n  // Handle search query changes\n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n  \n  const handleSearch = (e) => {\n    e.preventDefault();\n    console.log(\"Executing new search:\", searchQuery);\n    const results = performSearch(papers, searchQuery);\n    setSearchResults(results);\n  };\n  \n  // Handle paper selection\n  const handlePaperSelect = (paper) => {\n    setSelectedPaper(paper);\n  };\n  \n  // Handle paper highlighting\n  const handlePaperHighlight = (paper) => {\n    if (paper) {\n      setHighlightedPapers([paper]);\n    } else {\n      setHighlightedPapers([]);\n    }\n  };\n  \n  // Render the scatter plot\n  useEffect(() => {\n    // Add debugging statement\n    console.log(\"Rendering visualization, data points:\", searchResults.length);\n    console.log(\"SVG element exists:\", svgRef.current ? \"yes\" : \"no\");\n    \n    if (!searchResults.length || !svgRef.current) return;\n    \n    const svg = d3.select(svgRef.current);\n    const width = svgRef.current.clientWidth || 600;\n    const height = svgRef.current.clientHeight || 500;\n    const margin = { top: 20, right: 20, bottom: 20, left: 20 };\n    \n    // Add debugging statement\n    console.log(\"SVG container dimensions:\", { width, height });\n    \n    // Clear previous drawing\n    svg.selectAll(\"*\").remove();\n    \n    // Define scales\n    const xExtent = d3.extent(searchResults, d => d.x);\n    const yExtent = d3.extent(searchResults, d => d.y);\n    \n    // Add debugging statement\n    console.log(\"X extent:\", xExtent, \"Y extent:\", yExtent);\n    \n    const xScale = d3.scaleLinear()\n      .domain(xExtent)\n      .range([margin.left, width - margin.right]);\n    \n    const yScale = d3.scaleLinear()\n      .domain(yExtent)\n      .range([height - margin.bottom, margin.top]);\n    \n    // Color scale for similarity scores\n    const colorScale = d3.scaleSequential()\n      .domain([0, 1])\n      .interpolator(d3.interpolateBlues);\n    \n    // Size scale for points\n    const sizeScale = d3.scaleLinear()\n      .domain([0, 1])\n      .range([3, 10]);\n    \n    // Add legend\n    const legendGroup = svg.append(\"g\")\n      .attr(\"transform\", `translate(${width - 100}, 20)`);\n    \n    legendGroup.append(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .text(\"Score\")\n      .style(\"font-weight\", \"bold\")\n      .style(\"font-size\", \"12px\");\n    \n    const legendValues = [0.2, 0.4, 0.6, 0.8];\n    legendValues.forEach((value, i) => {\n      legendGroup.append(\"circle\")\n        .attr(\"cx\", 10)\n        .attr(\"cy\", i * 20 + 20)\n        .attr(\"r\", sizeScale(value))\n        .attr(\"fill\", colorScale(value));\n      \n      legendGroup.append(\"text\")\n        .attr(\"x\", 25)\n        .attr(\"y\", i * 20 + 24)\n        .text(`${Math.round(value * 100)}%`)\n        .style(\"font-size\", \"12px\");\n    });\n    \n    // Add debugging statement\n    console.log(\"Legend added\");\n    \n    // Draw points\n    try {\n      // Add debugging statement\n      console.log(\"Starting to draw data points...\");\n      \n      const points = svg.selectAll(\"circle.datapoint\")\n        .data(searchResults)\n        .enter()\n        .append(\"circle\")\n        .attr(\"class\", \"datapoint\")\n        .attr(\"cx\", d => xScale(d.x))\n        .attr(\"cy\", d => yScale(d.y))\n        .attr(\"r\", d => sizeScale(d.score))\n        .attr(\"fill\", d => colorScale(d.score))\n        .attr(\"opacity\", 0.8)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"stroke-width\", 0.5)\n        .style(\"cursor\", \"pointer\");\n        \n      // Add event handlers\n      points\n        .on(\"mouseover\", (event, d) => {\n          d3.select(event.target)\n            .attr(\"stroke\", \"#333\")\n            .attr(\"stroke-width\", 1.5)\n            .attr(\"r\", d => sizeScale(d.score) * 1.5);\n          handlePaperHighlight(d);\n          handlePaperSelect(d);\n        })\n        .on(\"mouseout\", (event) => {\n          d3.select(event.target)\n            .attr(\"stroke\", \"#fff\")\n            .attr(\"stroke-width\", 0.5)\n            .attr(\"r\", d => sizeScale(d.score));\n          handlePaperHighlight(null);\n        })\n        .on(\"click\", (event, d) => {\n          handlePaperSelect(d);\n        });\n      \n      // Add debugging statement\n      console.log(\"Data points drawn\");\n    } catch (error) {\n      console.error(\"Error drawing data points:\", error);\n    }\n    \n    // Add tooltip\n    try {\n      const tooltip = d3.select(\"body\").append(\"div\")\n        .attr(\"class\", \"tooltip\")\n        .style(\"position\", \"absolute\")\n        .style(\"visibility\", \"hidden\")\n        .style(\"background-color\", \"white\")\n        .style(\"border\", \"1px solid #ddd\")\n        .style(\"border-radius\", \"4px\")\n        .style(\"padding\", \"8px\")\n        .style(\"font-size\", \"12px\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"z-index\", \"10\");\n      \n      svg.selectAll(\"circle.datapoint\")\n        .on(\"mouseover\", (event, d) => {\n          tooltip.style(\"visibility\", \"visible\")\n            .html(`\n              <strong>${d.title}</strong><br>\n              ${d.authors}<br>\n              Score: ${(d.score * 100).toFixed(1)}%\n            `);\n        })\n        .on(\"mousemove\", (event) => {\n          tooltip\n            .style(\"top\", (event.pageY - 10) + \"px\")\n            .style(\"left\", (event.pageX + 10) + \"px\");\n        })\n        .on(\"mouseout\", () => {\n          tooltip.style(\"visibility\", \"hidden\");\n        });\n      \n      // Add title\n      svg.append(\"text\")\n        .attr(\"x\", width / 2)\n        .attr(\"y\", margin.top / 2)\n        .attr(\"text-anchor\", \"middle\")\n        .style(\"font-size\", \"14px\")\n        .style(\"font-weight\", \"bold\")\n        .text(`${searchResults.length} documents by similarity`);\n      \n      // Add debugging statement\n      console.log(\"Tooltip and title added\");\n      \n      return () => {\n        // Clean up\n        tooltip.remove();\n      };\n    } catch (error) {\n      console.error(\"Error adding tooltip:\", error);\n    }\n  }, [searchResults]);\n  \n  // Add debugging statement to check render function\n  console.log(\"Component rendering, data state:\", {\n    papersLength: papers.length,\n    resultsLength: searchResults.length,\n    isLoading,\n    hasSvgRef: !!svgRef.current\n  });\n  \n  return (\n    <div className=\"w-full max-w-6xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold mb-4\">Similarity Search</h1>\n        <form onSubmit={handleSearch} className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n            placeholder=\"Enter search query...\"\n            className=\"flex-grow p-2 border rounded\"\n          />\n          <button \n            type=\"submit\" \n            className=\"bg-blue-600 text-white px-4 py-2 rounded\"\n            disabled={isLoading}\n          >\n            {isLoading ? 'Loading...' : 'Search'}\n          </button>\n        </form>\n      </div>\n      \n      <div className=\"flex flex-col md:flex-row gap-6\">\n        <div className=\"md:w-2/3 border rounded shadow-sm bg-white\">\n          <svg \n            ref={svgRef} \n            width=\"100%\" \n            height=\"500\" \n            className=\"w-full\"\n          ></svg>\n        </div>\n        \n        <div className=\"md:w-1/3 border rounded shadow-sm bg-white p-4\">\n          <h2 className=\"text-lg font-semibold mb-3\">Selected Paper</h2>\n          {selectedPaper ? (\n            <div>\n              <h3 className=\"font-medium\">{selectedPaper.title}</h3>\n              <p className=\"text-sm text-gray-700 mt-1\">{selectedPaper.authors}</p>\n              <p className=\"text-sm text-gray-600 mt-1\">{selectedPaper.venue}, {selectedPaper.year}</p>\n              <div className=\"mt-2 text-sm bg-gray-50 p-2 rounded max-h-40 overflow-y-auto\">\n                {selectedPaper.abstract}\n              </div>\n              <div className=\"mt-2 text-sm\">\n                <strong>Similarity Score:</strong> {(selectedPaper.score * 100).toFixed(1)}%\n              </div>\n              {selectedPaper.link && (\n                <a \n                  href={selectedPaper.link} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"text-sm text-blue-600 hover:underline mt-2 block\"\n                >\n                  View Paper\n                </a>\n              )}\n            </div>\n          ) : (\n            <p className=\"text-gray-500\">Hover over a point to see paper details</p>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"mt-6\">\n        <h2 className=\"text-xl font-semibold mb-3\">Top Results</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {searchResults.slice(0, 6).map(paper => (\n            <div \n              key={paper.id} \n              className=\"border rounded p-3 bg-white shadow-sm hover:shadow-md transition-shadow\"\n              onMouseEnter={() => handlePaperSelect(paper)}\n              style={{\n                borderColor: selectedPaper && selectedPaper.id === paper.id ? '#3b82f6' : '#e5e7eb'\n              }}\n            >\n              <h3 className=\"font-medium\">{paper.title}</h3>\n              <p className=\"text-sm text-gray-700\">{paper.authors}</p>\n              <div className=\"flex justify-between text-sm text-gray-600 mt-1\">\n                <span>{paper.venue}</span>\n                <span>Score: {(paper.score * 100).toFixed(1)}%</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AcademicPaperSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}